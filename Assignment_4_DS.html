<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Marius &amp; Espen">

<title>Assignment 4 DS</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="Assignment_4_DS_files/libs/clipboard/clipboard.min.js"></script>
<script src="Assignment_4_DS_files/libs/quarto-html/quarto.js"></script>
<script src="Assignment_4_DS_files/libs/quarto-html/popper.min.js"></script>
<script src="Assignment_4_DS_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Assignment_4_DS_files/libs/quarto-html/anchor.min.js"></script>
<link href="Assignment_4_DS_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Assignment_4_DS_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Assignment_4_DS_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Assignment_4_DS_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Assignment_4_DS_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="Assignment_4_DS_files/libs/tabwid-1.1.3/tabwid.css" rel="stylesheet">
<script src="Assignment_4_DS_files/libs/tabwid-1.1.3/tabwid.js"></script>


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Assignment 4 DS</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Forfatter</div>
    <div class="quarto-title-meta-contents">
             <p>Marius &amp; Espen </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(restatapi)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DescTools)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggrepel)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(flextable)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(modelr)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plm)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sandwich)</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># xml skal ha mer detaljert info</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co"># toc_xml &lt;- get_eurostat_toc()</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span></span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># tekstversjonen har trolig nok info for vårt formål</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>toc_txt <span class="ot">&lt;-</span> <span class="fu">get_eurostat_toc</span>(<span class="at">mode =</span> <span class="st">"txt"</span>)</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>gdp_tabs <span class="ot">&lt;-</span> toc_txt <span class="sc">|&gt;</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Regex AND external to regex</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="fu">str_detect</span>(</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="at">string =</span> title,</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="co"># For å matche både små og store bokstaver</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="at">pattern =</span> <span class="st">'[Gg][Dd][Pp]'</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="co"># AND vha. &amp;</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>) <span class="sc">&amp;</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="fu">str_detect</span>(</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="at">string =</span> title,</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a><span class="co"># For å matche både små og store bokstaver og</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a><span class="co"># space eller ikke før 3</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a><span class="at">pattern =</span> <span class="st">'[Nn][Uu][Tt][Ss]</span><span class="sc">\\</span><span class="st">s*3'</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(title, code)</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Vi finner fire tabeller listet i toc_txt.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>gdp_tabs <span class="sc">|&gt;</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(title, code) <span class="sc">|&gt;</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="fu">flextable</span>() <span class="sc">|&gt;</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="fu">width</span>(<span class="dv">1</span>, <span class="at">width =</span> <span class="fl">3.5</span>) <span class="sc">|&gt;</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="fu">width</span>(<span class="dv">2</span>, <span class="at">width =</span> <span class="fl">1.5</span>)</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="tabwid"><style>.cl-ac522556{}.cl-ac4e3aa4{font-family:'Helvetica';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-ac4ffbf0{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-ac5008f2{width:3.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ac5008f3{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ac5008f4{width:3.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ac5008fc{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ac5008fd{width:3.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ac500906{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-ac522556"><thead><tr style="overflow-wrap:break-word;"><th class="cl-ac5008f2"><p class="cl-ac4ffbf0"><span class="cl-ac4e3aa4">title</span></p></th><th class="cl-ac5008f3"><p class="cl-ac4ffbf0"><span class="cl-ac4e3aa4">code</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-ac5008f4"><p class="cl-ac4ffbf0"><span class="cl-ac4e3aa4">Average annual population to calculate regional GDP data (thousand persons) by NUTS 3 regions</span></p></td><td class="cl-ac5008fc"><p class="cl-ac4ffbf0"><span class="cl-ac4e3aa4">nama_10r_3popgdp</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ac5008f4"><p class="cl-ac4ffbf0"><span class="cl-ac4e3aa4">Gross domestic product (GDP) at current market prices by NUTS 3 regions</span></p></td><td class="cl-ac5008fc"><p class="cl-ac4ffbf0"><span class="cl-ac4e3aa4">nama_10r_3gdp</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ac5008f4"><p class="cl-ac4ffbf0"><span class="cl-ac4e3aa4">European Union trade mark (EUTM) applications per billion GDP by NUTS 3 regions</span></p></td><td class="cl-ac5008fc"><p class="cl-ac4ffbf0"><span class="cl-ac4e3aa4">ipr_ta_gdpr</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ac5008fd"><p class="cl-ac4ffbf0"><span class="cl-ac4e3aa4">Community design (CD) applications per billion GDP by NUTS 3 regions</span></p></td><td class="cl-ac500906"><p class="cl-ac4ffbf0"><span class="cl-ac4e3aa4">ipr_da_gdpr</span></p></td></tr></tbody></table></div>
</div>
</div>
<p>Vi laster så ned «Data Structure Definition (DSD)» for tabellen med code nama_10r_3gdp</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># description nama_10r_3gdp</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>dsd_gdp <span class="ot">&lt;-</span> <span class="fu">get_eurostat_dsd</span>(<span class="st">"nama_10r_3gdp"</span>)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>dsd_gdp <span class="sc">|&gt;</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="at">n =</span> <span class="dv">15</span>) <span class="sc">|&gt;</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="fu">flextable</span>() <span class="sc">|&gt;</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="fu">width</span>(<span class="dv">1</span>, <span class="at">width =</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="fu">width</span>(<span class="dv">2</span>, <span class="at">width =</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="fu">width</span>(<span class="dv">3</span>, <span class="at">width =</span> <span class="fl">3.5</span>)</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="tabwid"><style>.cl-ad641986{}.cl-ad606340{font-family:'Helvetica';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-ad620592{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-ad620fd8{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ad620fd9{width:3.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ad620fe2{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ad620fe3{width:3.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ad620fe4{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ad620fe5{width:3.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-ad641986"><thead><tr style="overflow-wrap:break-word;"><th class="cl-ad620fd8"><p class="cl-ad620592"><span class="cl-ad606340">concept</span></p></th><th class="cl-ad620fd8"><p class="cl-ad620592"><span class="cl-ad606340">code</span></p></th><th class="cl-ad620fd9"><p class="cl-ad620592"><span class="cl-ad606340">name</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-ad620fe2"><p class="cl-ad620592"><span class="cl-ad606340">freq</span></p></td><td class="cl-ad620fe2"><p class="cl-ad620592"><span class="cl-ad606340">A</span></p></td><td class="cl-ad620fe3"><p class="cl-ad620592"><span class="cl-ad606340">Annual</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ad620fe2"><p class="cl-ad620592"><span class="cl-ad606340">unit</span></p></td><td class="cl-ad620fe2"><p class="cl-ad620592"><span class="cl-ad606340">MIO_EUR</span></p></td><td class="cl-ad620fe3"><p class="cl-ad620592"><span class="cl-ad606340">Million euro</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ad620fe2"><p class="cl-ad620592"><span class="cl-ad606340">unit</span></p></td><td class="cl-ad620fe2"><p class="cl-ad620592"><span class="cl-ad606340">EUR_HAB</span></p></td><td class="cl-ad620fe3"><p class="cl-ad620592"><span class="cl-ad606340">Euro per inhabitant</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ad620fe2"><p class="cl-ad620592"><span class="cl-ad606340">unit</span></p></td><td class="cl-ad620fe2"><p class="cl-ad620592"><span class="cl-ad606340">EUR_HAB_EU27_2020</span></p></td><td class="cl-ad620fe3"><p class="cl-ad620592"><span class="cl-ad606340">Euro per inhabitant in percentage of the EU27 (from 2020) average</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ad620fe2"><p class="cl-ad620592"><span class="cl-ad606340">unit</span></p></td><td class="cl-ad620fe2"><p class="cl-ad620592"><span class="cl-ad606340">MIO_NAC</span></p></td><td class="cl-ad620fe3"><p class="cl-ad620592"><span class="cl-ad606340">Million units of national currency</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ad620fe2"><p class="cl-ad620592"><span class="cl-ad606340">unit</span></p></td><td class="cl-ad620fe2"><p class="cl-ad620592"><span class="cl-ad606340">MIO_PPS_EU27_2020</span></p></td><td class="cl-ad620fe3"><p class="cl-ad620592"><span class="cl-ad606340">Million purchasing power standards (PPS, EU27 from 2020)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ad620fe2"><p class="cl-ad620592"><span class="cl-ad606340">unit</span></p></td><td class="cl-ad620fe2"><p class="cl-ad620592"><span class="cl-ad606340">PPS_EU27_2020_HAB</span></p></td><td class="cl-ad620fe3"><p class="cl-ad620592"><span class="cl-ad606340">Purchasing power standard (PPS, EU27 from 2020), per inhabitant</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ad620fe2"><p class="cl-ad620592"><span class="cl-ad606340">unit</span></p></td><td class="cl-ad620fe2"><p class="cl-ad620592"><span class="cl-ad606340">PPS_HAB_EU27_2020</span></p></td><td class="cl-ad620fe3"><p class="cl-ad620592"><span class="cl-ad606340">Purchasing power standard (PPS, EU27 from 2020), per inhabitant in percentage of the EU27 (from 2020) average</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ad620fe2"><p class="cl-ad620592"><span class="cl-ad606340">geo</span></p></td><td class="cl-ad620fe2"><p class="cl-ad620592"><span class="cl-ad606340">EU27_2020</span></p></td><td class="cl-ad620fe3"><p class="cl-ad620592"><span class="cl-ad606340">European Union - 27 countries (from 2020)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ad620fe2"><p class="cl-ad620592"><span class="cl-ad606340">geo</span></p></td><td class="cl-ad620fe2"><p class="cl-ad620592"><span class="cl-ad606340">BE</span></p></td><td class="cl-ad620fe3"><p class="cl-ad620592"><span class="cl-ad606340">Belgium</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ad620fe2"><p class="cl-ad620592"><span class="cl-ad606340">geo</span></p></td><td class="cl-ad620fe2"><p class="cl-ad620592"><span class="cl-ad606340">BE1</span></p></td><td class="cl-ad620fe3"><p class="cl-ad620592"><span class="cl-ad606340">Région de Bruxelles-Capitale/Brussels Hoofdstedelijk Gewest</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ad620fe2"><p class="cl-ad620592"><span class="cl-ad606340">geo</span></p></td><td class="cl-ad620fe2"><p class="cl-ad620592"><span class="cl-ad606340">BE10</span></p></td><td class="cl-ad620fe3"><p class="cl-ad620592"><span class="cl-ad606340">Région de Bruxelles-Capitale/Brussels Hoofdstedelijk Gewest</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ad620fe2"><p class="cl-ad620592"><span class="cl-ad606340">geo</span></p></td><td class="cl-ad620fe2"><p class="cl-ad620592"><span class="cl-ad606340">BE100</span></p></td><td class="cl-ad620fe3"><p class="cl-ad620592"><span class="cl-ad606340">Arr. de Bruxelles-Capitale/Arr. Brussel-Hoofdstad</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ad620fe2"><p class="cl-ad620592"><span class="cl-ad606340">geo</span></p></td><td class="cl-ad620fe2"><p class="cl-ad620592"><span class="cl-ad606340">BE2</span></p></td><td class="cl-ad620fe3"><p class="cl-ad620592"><span class="cl-ad606340">Vlaams Gewest</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ad620fe4"><p class="cl-ad620592"><span class="cl-ad606340">geo</span></p></td><td class="cl-ad620fe4"><p class="cl-ad620592"><span class="cl-ad606340">BE21</span></p></td><td class="cl-ad620fe5"><p class="cl-ad620592"><span class="cl-ad606340">Prov. Antwerpen</span></p></td></tr></tbody></table></div>
</div>
</div>
<p>Utfra kodene i dsd_gdp kan vi da formulere følgende spørring mot Eurostat:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ag_comment: Satt eval til false ellers kjører samme kode to ganger</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Gross domestic product (GDP) at current market prices by NUTS 3 regions</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="co"># id: nama_10r_3gdp</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>nama_10r_3gdp <span class="ot">&lt;-</span> <span class="fu">get_eurostat_data</span>(</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="at">id =</span> <span class="st">"nama_10r_3popgdp"</span>,</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="at">filters =</span> <span class="fu">list</span>(</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="at">geo =</span> <span class="fu">c</span>(<span class="st">"AT"</span>, <span class="st">"DE"</span>, <span class="st">"DK"</span>, <span class="st">"FR"</span>, <span class="st">"EL"</span>, <span class="st">"ES"</span>,</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="st">"IT"</span>, <span class="st">"NL"</span>, <span class="st">"BE"</span>, <span class="st">"IE"</span>, <span class="st">"PL"</span>, <span class="st">"PT"</span>, <span class="st">"NO"</span>, <span class="st">"SE"</span>, <span class="st">"FI"</span>, <span class="st">"CH"</span>),</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="at">nuts_level =</span> <span class="st">"3"</span>,</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="at">unit =</span> <span class="st">"MIO_PPS_EU27_2020"</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>),</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a><span class="at">exact_match =</span> <span class="cn">FALSE</span>,</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a><span class="at">date_filter =</span> <span class="dv">2000</span><span class="sc">:</span><span class="dv">2020</span>,</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a><span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a><span class="fu">mutate</span>(</span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a><span class="at">gdp =</span> <span class="dv">1000000</span> <span class="sc">*</span> values</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(unit, values)) <span class="sc">|&gt;</span></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Vil bare ha NUTS 3 nivå (5 karakterer). Vil aggregere selv til NUTS2,</span></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a><span class="co"># NUTS1 og NUTSc</span></span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(<span class="fu">str_length</span>(geo) <span class="sc">==</span> <span class="dv">5</span>)</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Oppgave 1)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># id: nama_10r_3gdp</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>nama_10r_3gdp <span class="ot">&lt;-</span> <span class="fu">get_eurostat_data</span>(</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="at">id =</span> <span class="st">"nama_10r_3gdp"</span>,</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="at">filters =</span> <span class="fu">list</span>(</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="at">geo =</span> <span class="fu">c</span>(<span class="st">"AT"</span>, <span class="st">"DE"</span>, <span class="st">"DK"</span>, <span class="st">"FR"</span>, <span class="st">"EL"</span>, <span class="st">"ES"</span>,</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="st">"IT"</span>, <span class="st">"NL"</span>, <span class="st">"BE"</span>, <span class="st">"IE"</span>, <span class="st">"PL"</span>, <span class="st">"PT"</span>, <span class="st">"NO"</span>, <span class="st">"SE"</span>, <span class="st">"FI"</span>, <span class="st">"CH"</span>),</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="at">nuts_level =</span> <span class="st">"3"</span>,</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="at">unit =</span> <span class="st">"MIO_PPS_EU27_2020"</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>),</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="at">exact_match =</span> <span class="cn">FALSE</span>,</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="at">date_filter =</span> <span class="dv">2000</span><span class="sc">:</span><span class="dv">2020</span>,</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a><span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a><span class="fu">mutate</span>(</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a><span class="at">gdp =</span> <span class="dv">1000000</span> <span class="sc">*</span> values</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(unit, values)) <span class="sc">|&gt;</span></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Vil bare ha NUTS 3 nivå (5 karakterer). Vil aggregere selv til NUTS2,</span></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a><span class="co"># NUTS1 og NUTSc</span></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(<span class="fu">str_length</span>(geo) <span class="sc">==</span> <span class="dv">5</span>)</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Oppgave 2)</p>
<p>i. Fant koden nama_10r_3popgdp for tabellen med forklarende tekst «Average annual population to calculate regional GDP data (thousand persons) by NUTS 3 regions».</p>
<p>ii.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ndefineddescription nama_10r_3popgdp</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>dsd_popgdp <span class="ot">&lt;-</span> <span class="fu">get_eurostat_dsd</span>(<span class="st">"nama_10r_3popgdp"</span>)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>dsd_popgdp <span class="sc">|&gt;</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="at">n =</span> <span class="dv">15</span>) <span class="sc">|&gt;</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="fu">flextable</span>() <span class="sc">|&gt;</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="fu">width</span>(<span class="dv">1</span>, <span class="at">width =</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="fu">width</span>(<span class="dv">2</span>, <span class="at">width =</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="fu">width</span>(<span class="dv">3</span>, <span class="at">width =</span> <span class="fl">3.5</span>)</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="tabwid"><style>.cl-b092a03c{}.cl-b08f4fd6{font-family:'Helvetica';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-b090c4e2{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-b090cdf2{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b090cdfc{width:3.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b090cdfd{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b090cdfe{width:3.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b090ce10{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b090ce11{width:3.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-b092a03c"><thead><tr style="overflow-wrap:break-word;"><th class="cl-b090cdf2"><p class="cl-b090c4e2"><span class="cl-b08f4fd6">concept</span></p></th><th class="cl-b090cdf2"><p class="cl-b090c4e2"><span class="cl-b08f4fd6">code</span></p></th><th class="cl-b090cdfc"><p class="cl-b090c4e2"><span class="cl-b08f4fd6">name</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-b090cdfd"><p class="cl-b090c4e2"><span class="cl-b08f4fd6">freq</span></p></td><td class="cl-b090cdfd"><p class="cl-b090c4e2"><span class="cl-b08f4fd6">A</span></p></td><td class="cl-b090cdfe"><p class="cl-b090c4e2"><span class="cl-b08f4fd6">Annual</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b090cdfd"><p class="cl-b090c4e2"><span class="cl-b08f4fd6">unit</span></p></td><td class="cl-b090cdfd"><p class="cl-b090c4e2"><span class="cl-b08f4fd6">THS</span></p></td><td class="cl-b090cdfe"><p class="cl-b090c4e2"><span class="cl-b08f4fd6">Thousand</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b090cdfd"><p class="cl-b090c4e2"><span class="cl-b08f4fd6">geo</span></p></td><td class="cl-b090cdfd"><p class="cl-b090c4e2"><span class="cl-b08f4fd6">EU27_2020</span></p></td><td class="cl-b090cdfe"><p class="cl-b090c4e2"><span class="cl-b08f4fd6">European Union - 27 countries (from 2020)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b090cdfd"><p class="cl-b090c4e2"><span class="cl-b08f4fd6">geo</span></p></td><td class="cl-b090cdfd"><p class="cl-b090c4e2"><span class="cl-b08f4fd6">BE</span></p></td><td class="cl-b090cdfe"><p class="cl-b090c4e2"><span class="cl-b08f4fd6">Belgium</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b090cdfd"><p class="cl-b090c4e2"><span class="cl-b08f4fd6">geo</span></p></td><td class="cl-b090cdfd"><p class="cl-b090c4e2"><span class="cl-b08f4fd6">BE1</span></p></td><td class="cl-b090cdfe"><p class="cl-b090c4e2"><span class="cl-b08f4fd6">Région de Bruxelles-Capitale/Brussels Hoofdstedelijk Gewest</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b090cdfd"><p class="cl-b090c4e2"><span class="cl-b08f4fd6">geo</span></p></td><td class="cl-b090cdfd"><p class="cl-b090c4e2"><span class="cl-b08f4fd6">BE10</span></p></td><td class="cl-b090cdfe"><p class="cl-b090c4e2"><span class="cl-b08f4fd6">Région de Bruxelles-Capitale/Brussels Hoofdstedelijk Gewest</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b090cdfd"><p class="cl-b090c4e2"><span class="cl-b08f4fd6">geo</span></p></td><td class="cl-b090cdfd"><p class="cl-b090c4e2"><span class="cl-b08f4fd6">BE100</span></p></td><td class="cl-b090cdfe"><p class="cl-b090c4e2"><span class="cl-b08f4fd6">Arr. de Bruxelles-Capitale/Arr. Brussel-Hoofdstad</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b090cdfd"><p class="cl-b090c4e2"><span class="cl-b08f4fd6">geo</span></p></td><td class="cl-b090cdfd"><p class="cl-b090c4e2"><span class="cl-b08f4fd6">BE2</span></p></td><td class="cl-b090cdfe"><p class="cl-b090c4e2"><span class="cl-b08f4fd6">Vlaams Gewest</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b090cdfd"><p class="cl-b090c4e2"><span class="cl-b08f4fd6">geo</span></p></td><td class="cl-b090cdfd"><p class="cl-b090c4e2"><span class="cl-b08f4fd6">BE21</span></p></td><td class="cl-b090cdfe"><p class="cl-b090c4e2"><span class="cl-b08f4fd6">Prov. Antwerpen</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b090cdfd"><p class="cl-b090c4e2"><span class="cl-b08f4fd6">geo</span></p></td><td class="cl-b090cdfd"><p class="cl-b090c4e2"><span class="cl-b08f4fd6">BE211</span></p></td><td class="cl-b090cdfe"><p class="cl-b090c4e2"><span class="cl-b08f4fd6">Arr. Antwerpen</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b090cdfd"><p class="cl-b090c4e2"><span class="cl-b08f4fd6">geo</span></p></td><td class="cl-b090cdfd"><p class="cl-b090c4e2"><span class="cl-b08f4fd6">BE212</span></p></td><td class="cl-b090cdfe"><p class="cl-b090c4e2"><span class="cl-b08f4fd6">Arr. Mechelen</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b090cdfd"><p class="cl-b090c4e2"><span class="cl-b08f4fd6">geo</span></p></td><td class="cl-b090cdfd"><p class="cl-b090c4e2"><span class="cl-b08f4fd6">BE213</span></p></td><td class="cl-b090cdfe"><p class="cl-b090c4e2"><span class="cl-b08f4fd6">Arr. Turnhout</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b090cdfd"><p class="cl-b090c4e2"><span class="cl-b08f4fd6">geo</span></p></td><td class="cl-b090cdfd"><p class="cl-b090c4e2"><span class="cl-b08f4fd6">BE22</span></p></td><td class="cl-b090cdfe"><p class="cl-b090c4e2"><span class="cl-b08f4fd6">Prov. Limburg (BE)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b090cdfd"><p class="cl-b090c4e2"><span class="cl-b08f4fd6">geo</span></p></td><td class="cl-b090cdfd"><p class="cl-b090c4e2"><span class="cl-b08f4fd6">BE223</span></p></td><td class="cl-b090cdfe"><p class="cl-b090c4e2"><span class="cl-b08f4fd6">Arr. Tongeren</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b090ce10"><p class="cl-b090c4e2"><span class="cl-b08f4fd6">geo</span></p></td><td class="cl-b090ce10"><p class="cl-b090c4e2"><span class="cl-b08f4fd6">BE224</span></p></td><td class="cl-b090ce11"><p class="cl-b090c4e2"><span class="cl-b08f4fd6">Arr. Hasselt</span></p></td></tr></tbody></table></div>
</div>
</div>
<p>iii.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># id: nama_10r_3popgdp</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>nama_10r_3popgdp <span class="ot">&lt;-</span> <span class="fu">get_eurostat_data</span>(</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="at">id =</span> <span class="st">"nama_10r_3popgdp"</span>,</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="at">filters =</span> <span class="fu">list</span>(</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="at">geo =</span> <span class="fu">c</span>(<span class="st">"AT"</span>, <span class="st">"DE"</span>, <span class="st">"DK"</span>, <span class="st">"FR"</span>, <span class="st">"EL"</span>, <span class="st">"ES"</span>,</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="st">"IT"</span>, <span class="st">"NL"</span>, <span class="st">"BE"</span>, <span class="st">"IE"</span>, <span class="st">"PL"</span>, <span class="st">"PT"</span>, <span class="st">"NO"</span>, <span class="st">"SE"</span>, <span class="st">"FI"</span>, <span class="st">"CH"</span>),</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="at">nuts_level =</span> <span class="st">"3"</span>,</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a><span class="at">unit =</span> <span class="st">"THS"</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>),</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a><span class="at">exact_match =</span> <span class="cn">FALSE</span>,</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a><span class="at">date_filter =</span> <span class="dv">2000</span><span class="sc">:</span><span class="dv">2020</span>,</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a><span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> <span class="fu">mutate</span>(</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a><span class="at">pop.x =</span> <span class="dv">1000</span> <span class="sc">*</span> values</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(unit, values)) <span class="sc">|&gt;</span></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Vil bare ha NUTS 3 nivå (5 karakterer). Vil aggregere selv til NUTS2,</span></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a><span class="co"># NUTS1 og NUTSc</span></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(<span class="fu">str_length</span>(geo) <span class="sc">==</span> <span class="dv">5</span>)</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Oppgave 3)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># description demo_r_pjanaggr3</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>   dsd_pop <span class="ot">&lt;-</span> <span class="fu">get_eurostat_dsd</span>(<span class="st">"demo_r_pjanaggr3"</span>)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  dsd_pop <span class="sc">|&gt;</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="at">n =</span> <span class="dv">15</span>) <span class="sc">|&gt;</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">flextable</span>()  <span class="sc">|&gt;</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">width</span>(<span class="dv">1</span>, <span class="at">width =</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">width</span>(<span class="dv">2</span>, <span class="at">width =</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">width</span>(<span class="dv">3</span>, <span class="at">width =</span> <span class="fl">3.5</span>)</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="tabwid"><style>.cl-b36aeeb8{}.cl-b367970e{font-family:'Helvetica';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-b369117e{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-b3691a34{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b3691a35{width:3.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b3691a36{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b3691a3e{width:3.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b3691a52{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b3691a70{width:3.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-b36aeeb8"><thead><tr style="overflow-wrap:break-word;"><th class="cl-b3691a34"><p class="cl-b369117e"><span class="cl-b367970e">concept</span></p></th><th class="cl-b3691a34"><p class="cl-b369117e"><span class="cl-b367970e">code</span></p></th><th class="cl-b3691a35"><p class="cl-b369117e"><span class="cl-b367970e">name</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-b3691a36"><p class="cl-b369117e"><span class="cl-b367970e">freq</span></p></td><td class="cl-b3691a36"><p class="cl-b369117e"><span class="cl-b367970e">A</span></p></td><td class="cl-b3691a3e"><p class="cl-b369117e"><span class="cl-b367970e">Annual</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b3691a36"><p class="cl-b369117e"><span class="cl-b367970e">unit</span></p></td><td class="cl-b3691a36"><p class="cl-b369117e"><span class="cl-b367970e">NR</span></p></td><td class="cl-b3691a3e"><p class="cl-b369117e"><span class="cl-b367970e">Number</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b3691a36"><p class="cl-b369117e"><span class="cl-b367970e">sex</span></p></td><td class="cl-b3691a36"><p class="cl-b369117e"><span class="cl-b367970e">T</span></p></td><td class="cl-b3691a3e"><p class="cl-b369117e"><span class="cl-b367970e">Total</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b3691a36"><p class="cl-b369117e"><span class="cl-b367970e">sex</span></p></td><td class="cl-b3691a36"><p class="cl-b369117e"><span class="cl-b367970e">M</span></p></td><td class="cl-b3691a3e"><p class="cl-b369117e"><span class="cl-b367970e">Males</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b3691a36"><p class="cl-b369117e"><span class="cl-b367970e">sex</span></p></td><td class="cl-b3691a36"><p class="cl-b369117e"><span class="cl-b367970e">F</span></p></td><td class="cl-b3691a3e"><p class="cl-b369117e"><span class="cl-b367970e">Females</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b3691a36"><p class="cl-b369117e"><span class="cl-b367970e">age</span></p></td><td class="cl-b3691a36"><p class="cl-b369117e"><span class="cl-b367970e">TOTAL</span></p></td><td class="cl-b3691a3e"><p class="cl-b369117e"><span class="cl-b367970e">Total</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b3691a36"><p class="cl-b369117e"><span class="cl-b367970e">age</span></p></td><td class="cl-b3691a36"><p class="cl-b369117e"><span class="cl-b367970e">Y_LT15</span></p></td><td class="cl-b3691a3e"><p class="cl-b369117e"><span class="cl-b367970e">Less than 15 years</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b3691a36"><p class="cl-b369117e"><span class="cl-b367970e">age</span></p></td><td class="cl-b3691a36"><p class="cl-b369117e"><span class="cl-b367970e">Y15-64</span></p></td><td class="cl-b3691a3e"><p class="cl-b369117e"><span class="cl-b367970e">From 15 to 64 years</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b3691a36"><p class="cl-b369117e"><span class="cl-b367970e">age</span></p></td><td class="cl-b3691a36"><p class="cl-b369117e"><span class="cl-b367970e">Y_GE65</span></p></td><td class="cl-b3691a3e"><p class="cl-b369117e"><span class="cl-b367970e">65 years or over</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b3691a36"><p class="cl-b369117e"><span class="cl-b367970e">age</span></p></td><td class="cl-b3691a36"><p class="cl-b369117e"><span class="cl-b367970e">UNK</span></p></td><td class="cl-b3691a3e"><p class="cl-b369117e"><span class="cl-b367970e">Unknown</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b3691a36"><p class="cl-b369117e"><span class="cl-b367970e">geo</span></p></td><td class="cl-b3691a36"><p class="cl-b369117e"><span class="cl-b367970e">EU27_2020</span></p></td><td class="cl-b3691a3e"><p class="cl-b369117e"><span class="cl-b367970e">European Union - 27 countries (from 2020)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b3691a36"><p class="cl-b369117e"><span class="cl-b367970e">geo</span></p></td><td class="cl-b3691a36"><p class="cl-b369117e"><span class="cl-b367970e">EU28</span></p></td><td class="cl-b3691a3e"><p class="cl-b369117e"><span class="cl-b367970e">European Union - 28 countries (2013-2020)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b3691a36"><p class="cl-b369117e"><span class="cl-b367970e">geo</span></p></td><td class="cl-b3691a36"><p class="cl-b369117e"><span class="cl-b367970e">EU27_2007</span></p></td><td class="cl-b3691a3e"><p class="cl-b369117e"><span class="cl-b367970e">European Union - 27 countries (2007-2013)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b3691a36"><p class="cl-b369117e"><span class="cl-b367970e">geo</span></p></td><td class="cl-b3691a36"><p class="cl-b369117e"><span class="cl-b367970e">BE</span></p></td><td class="cl-b3691a3e"><p class="cl-b369117e"><span class="cl-b367970e">Belgium</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b3691a52"><p class="cl-b369117e"><span class="cl-b367970e">geo</span></p></td><td class="cl-b3691a52"><p class="cl-b369117e"><span class="cl-b367970e">BE1</span></p></td><td class="cl-b3691a70"><p class="cl-b369117e"><span class="cl-b367970e">Région de Bruxelles-Capitale/Brussels Hoofdstedelijk Gewest</span></p></td></tr></tbody></table></div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>demo_r_pjanaggr3 <span class="ot">&lt;-</span> <span class="fu">get_eurostat_data</span>(</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="at">id =</span> <span class="st">"demo_r_pjanaggr3"</span>,</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="at">filters =</span> <span class="fu">list</span>(</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="at">geo =</span> <span class="fu">c</span>(<span class="st">"AT"</span>, <span class="st">"DE"</span>, <span class="st">"DK"</span>, <span class="st">"FR"</span>, <span class="st">"EL"</span>, <span class="st">"ES"</span>,</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="st">"IT"</span>, <span class="st">"NL"</span>, <span class="st">"BE"</span>, <span class="st">"IE"</span>, <span class="st">"PL"</span>, <span class="st">"PT"</span>, <span class="st">"NO"</span>, <span class="st">"SE"</span>, <span class="st">"FI"</span>, <span class="st">"CH"</span>),</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="at">nuts_level =</span> <span class="st">"3"</span>,</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="at">unit =</span> <span class="st">"NR"</span>, <span class="at">sex =</span> <span class="st">"T"</span>, <span class="at">age =</span> <span class="st">"TOTAL"</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>),</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="at">exact_match =</span> <span class="cn">FALSE</span>,</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="at">date_filter =</span> <span class="dv">2000</span><span class="sc">:</span><span class="dv">2020</span>,</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a><span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(unit, sex, age)) <span class="sc">|&gt;</span> <span class="fu">select</span>(geo, time, <span class="at">pop.y =</span> values) <span class="sc">|&gt;</span></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Vil bare ha NUTS 3 nivå (5 karakterer). Vil aggregere selv til NUTS2,</span></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a><span class="co"># NUTS1 og NUTSc</span></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(<span class="fu">str_length</span>(geo) <span class="sc">==</span> <span class="dv">5</span>)</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Oppgave 4)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Identifiser NUTS3-soner som mangler i nama_10r_3gdp</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>nuts3_missing_in_demo_r_pjanaggr3 <span class="ot">&lt;-</span> <span class="fu">setdiff</span>(</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  nama_10r_3popgdp<span class="sc">$</span>geo, </span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  demo_r_pjanaggr3<span class="sc">$</span>geo</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Vis resultatet</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(nuts3_missing_in_demo_r_pjanaggr3)</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "DKZZZ" "ESZZZ" "ITG2D" "ITG2E" "ITG2F" "ITG2G" "ITG2H" "ITZZZ" "NLZZZ"
[10] "NO020" "NO074" "NO081" "NO082" "NO091" "NO092" "NO0A1" "NO0A2" "NO0A3"
[19] "NO0B2" "NOZZZ"</code></pre>
</div>
</div>
<p>Oppgave 5)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>nuts3_missing_in_nama_10r_3gdp <span class="ot">&lt;-</span> <span class="fu">setdiff</span>(</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  demo_r_pjanaggr3<span class="sc">$</span>geo,</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  nama_10r_3popgdp<span class="sc">$</span>geo</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Vis resultatet</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(nuts3_missing_in_nama_10r_3gdp)</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "BE221" "BE222" "BE321" "BE322" "BE324" "BE325" "BE326" "BE327" "FRXXX"
[10] "ITG25" "ITG26" "ITG27" "ITG28" "ITG29" "ITG2A" "ITG2B" "ITG2C" "NO011"
[19] "NO012" "NO021" "NO022" "NO031" "NO032" "NO033" "NO034" "NO041" "NO042"
[28] "NO043" "NO051" "NO052" "NO053" "NO061" "NO062" "NO072" "NO073"</code></pre>
</div>
</div>
<p>Oppgave 6)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gjenomfører en full_join</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>full_pop_nuts3 <span class="ot">&lt;-</span> <span class="fu">full_join</span>(demo_r_pjanaggr3, nama_10r_3popgdp, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"geo"</span>, <span class="st">"time"</span>))</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Viser de første radene av det kombinerte datasettet</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(full_pop_nuts3)</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     geo time pop.y pop.x
1: AT111 2001 37732 38050
2: AT111 2002 37778 37730
3: AT111 2003 37703 37650
4: AT111 2004 37640 37580
5: AT111 2005 37522 37450
6: AT111 2006 37413 37450</code></pre>
</div>
</div>
<p>Oppgave 7)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Sjekker sonene i full_pop_nuts3 mot GDP Tabellen</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>Full_pop_nuts3_Against_GDP <span class="ot">&lt;-</span> <span class="fu">setdiff</span>(</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  full_pop_nuts3<span class="sc">$</span>geo,</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  nama_10r_3popgdp<span class="sc">$</span>geo</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Vis resultatet</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(Full_pop_nuts3_Against_GDP)</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "BE221" "BE222" "BE321" "BE322" "BE324" "BE325" "BE326" "BE327" "FRXXX"
[10] "ITG25" "ITG26" "ITG27" "ITG28" "ITG29" "ITG2A" "ITG2B" "ITG2C" "NO011"
[19] "NO012" "NO021" "NO022" "NO031" "NO032" "NO033" "NO034" "NO041" "NO042"
[28] "NO043" "NO051" "NO052" "NO053" "NO061" "NO062" "NO072" "NO073"</code></pre>
</div>
</div>
<p>Oppgave 8)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Sjekker sonene i gdp tabellen mot de vi har i full_pop_nuts3</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>GDP_against_full_pop_nuts3 <span class="ot">&lt;-</span> <span class="fu">setdiff</span>(</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  nama_10r_3gdp<span class="sc">$</span>geo, </span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>  full_pop_nuts3<span class="sc">$</span>geo</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Vis resultatet</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(GDP_against_full_pop_nuts3)</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "ATZZZ" "BEZZZ" "FIZZZ" "FRZZZ" "PTZZZ" "SEZZZ"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>full_pop_nuts3 <span class="ot">&lt;-</span> full_pop_nuts3 <span class="sc">|&gt;</span> </span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">str_detect</span>(</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_sub</span>(</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>        geo, <span class="at">start =</span> <span class="dv">3</span>, <span class="at">end =</span> <span class="dv">5</span>), <span class="st">"ZZZ$"</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>nama_10r_3gdp <span class="ot">&lt;-</span> nama_10r_3gdp <span class="sc">|&gt;</span> </span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">str_detect</span>(</span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_sub</span>(</span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>        geo, <span class="at">start =</span> <span class="dv">3</span>, <span class="at">end =</span> <span class="dv">5</span>), <span class="st">"ZZZ$"</span></span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>oppgave 9)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>full_pop_nuts3 <span class="sc">|&gt;</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(geo <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"NO053"</span>, <span class="st">"NO060"</span>, <span class="st">"NO061"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(time <span class="sc">%in%</span> <span class="dv">2014</span><span class="sc">:</span><span class="dv">2020</span>) <span class="sc">|&gt;</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="fu">arrange</span>(time, geo)</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      geo time  pop.y  pop.x
 1: NO053 2014 261458     NA
 2: NO060 2014 441193 443090
 3: NO061 2014 306067     NA
 4: NO053 2015 263736     NA
 5: NO060 2015     NA 447910
 6: NO061 2015 310093     NA
 7: NO053 2016 265151     NA
 8: NO060 2016 449457 452090
 9: NO061 2016 313105     NA
10: NO053 2017 266274     NA
11: NO060 2017 454596 457000
12: NO061 2017 317363     NA
13: NO053 2018 266858     NA
14: NO060 2018 458742 460170
15: NO061 2018 320884     NA
16: NO053 2019 267420     NA
17: NO060 2019 462032 465910
18: NO053 2020 267642     NA
19: NO060 2020 465136 469910</code></pre>
</div>
</div>
<p>oppgave 10</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>full_pop_nuts3 <span class="ot">&lt;-</span> full_pop_nuts3 <span class="sc">|&gt;</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mutate</span>(</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="at">pop =</span> <span class="fu">ifelse</span>(</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="at">test =</span> <span class="fu">is.na</span>(pop.x) <span class="sc">==</span> <span class="cn">TRUE</span>,</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a><span class="at">yes =</span> pop.y,</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a><span class="at">no =</span> pop.x</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(<span class="sc">-</span>pop.x, <span class="sc">-</span>pop.y)</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Oppgave 11</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>full_pop_nuts3 <span class="ot">&lt;-</span> full_pop_nuts3 <span class="sc">|&gt;</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">pop =</span> <span class="fu">ifelse</span>(pop <span class="sc">==</span> <span class="dv">0</span>, <span class="cn">NA</span>, pop)</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Oppgave 12)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>eu_data <span class="ot">&lt;-</span> <span class="fu">left_join</span>(</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  nama_10r_3gdp, </span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  full_pop_nuts3, </span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"geo"</span>, <span class="st">"time"</span>), </span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">suffix =</span> <span class="fu">c</span>(<span class="st">"gdp"</span>, <span class="st">"pop"</span>)</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Dette er feil tall i forhold til Arnstein sitt som er 21159 og 4. forsetter men usikker på om dette er rett.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(eu_data)</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 21062     4</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>eu_data <span class="ot">&lt;-</span> eu_data <span class="sc">|&gt;</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mutate</span>(</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a><span class="at">country =</span> <span class="fu">str_sub</span>(geo, <span class="at">start =</span> 1L, <span class="at">end =</span> 2L)</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>eu_data <span class="sc">|&gt;</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="fu">distinct</span>(geo, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="fu">group_by</span>(country) <span class="sc">|&gt;</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a><span class="fu">summarise</span>(<span class="at">Antall =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 16 × 2
   country Antall
   &lt;chr&gt;    &lt;int&gt;
 1 AT          35
 2 BE          44
 3 CH          26
 4 DE         401
 5 DK          11
 6 EL          52
 7 ES          59
 8 FI          19
 9 FR         101
10 IE           8
11 IT         107
12 NL          40
13 NO          12
14 PL          73
15 PT          25
16 SE          21</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>eu_data <span class="sc">|&gt;</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>()</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     geo                time                gdp                 pop         
 Length:21062       Length:21062       Min.   :8.512e+07   Min.   :   8400  
 Class :character   Class :character   1st Qu.:2.957e+09   1st Qu.: 132240  
 Mode  :character   Mode  :character   Median :5.342e+09   Median : 241050  
                                       Mean   :1.004e+10   Mean   : 373869  
                                       3rd Qu.:1.037e+10   3rd Qu.: 440690  
                                       Max.   :2.606e+11   Max.   :6757000  
                                                           NA's   :13       
   country         
 Length:21062      
 Class :character  
 Mode  :character  
                   
                   
                   
                   </code></pre>
</div>
</div>
<p>OBS!!! formelen under fjerner alle datasett, så ikke kjør denne før oppgave 12 ses på.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Endrer navn og rekkefølge på variabelen i eu_data vha. select().</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>eu_data <span class="ot">&lt;-</span> eu_data <span class="sc">|&gt;</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(country, <span class="at">NUTS3 =</span> geo, <span class="at">year =</span> time, gdp, pop)</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Rydder opp</span></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Sletter alle objekt utenom eu_data</span></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a><span class="co"># don't use if you don't mean it</span></span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">setdiff</span>(<span class="fu">ls</span>(), <span class="st">"eu_data"</span>))</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Oppgave 13)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Beregner GDP per capita</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>eu_data <span class="ot">&lt;-</span> eu_data <span class="sc">%&gt;%</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gdp_per_capita =</span> <span class="fu">round</span>(gdp <span class="sc">/</span> pop, <span class="dv">2</span>))</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>eu_data <span class="sc">|&gt;</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(gdp_per_capita) <span class="sc">|&gt;</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>()</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> gdp_per_capita  
 Min.   :  3359  
 1st Qu.: 18324  
 Median : 23270  
 Mean   : 25308  
 3rd Qu.: 29377  
 Max.   :177427  
 NA's   :13      </code></pre>
</div>
</div>
<p>Oppgave 14)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Legger til variabelen country_name basert på verdiene i "geo"</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>eu_data <span class="ot">&lt;-</span> eu_data <span class="sc">%&gt;%</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">country_name =</span> <span class="fu">case_when</span>(</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>      country <span class="sc">==</span> <span class="st">"AT"</span> <span class="sc">~</span> <span class="st">"Østerrike"</span>,</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>      country <span class="sc">==</span> <span class="st">"DE"</span> <span class="sc">~</span> <span class="st">"Tyskland"</span>,</span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>      country <span class="sc">==</span> <span class="st">"DK"</span> <span class="sc">~</span> <span class="st">"Danmark"</span>,</span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>      country <span class="sc">==</span> <span class="st">"FR"</span> <span class="sc">~</span> <span class="st">"Frankrike"</span>,</span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>      country <span class="sc">==</span> <span class="st">"EL"</span> <span class="sc">~</span> <span class="st">"Hellas"</span>,</span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a>      country <span class="sc">==</span> <span class="st">"ES"</span> <span class="sc">~</span> <span class="st">"Spania"</span>,</span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a>      country <span class="sc">==</span> <span class="st">"IT"</span> <span class="sc">~</span> <span class="st">"Italia"</span>,</span>
<span id="cb41-12"><a href="#cb41-12" aria-hidden="true" tabindex="-1"></a>      country <span class="sc">==</span> <span class="st">"NL"</span> <span class="sc">~</span> <span class="st">"Nederland"</span>,</span>
<span id="cb41-13"><a href="#cb41-13" aria-hidden="true" tabindex="-1"></a>      country <span class="sc">==</span> <span class="st">"BE"</span> <span class="sc">~</span> <span class="st">"Belgia"</span>,</span>
<span id="cb41-14"><a href="#cb41-14" aria-hidden="true" tabindex="-1"></a>      country <span class="sc">==</span> <span class="st">"IE"</span> <span class="sc">~</span> <span class="st">"Irland"</span>,</span>
<span id="cb41-15"><a href="#cb41-15" aria-hidden="true" tabindex="-1"></a>      country <span class="sc">==</span> <span class="st">"PL"</span> <span class="sc">~</span> <span class="st">"Polen"</span>,</span>
<span id="cb41-16"><a href="#cb41-16" aria-hidden="true" tabindex="-1"></a>      country <span class="sc">==</span> <span class="st">"PT"</span> <span class="sc">~</span> <span class="st">"Portugal"</span>,</span>
<span id="cb41-17"><a href="#cb41-17" aria-hidden="true" tabindex="-1"></a>      country <span class="sc">==</span> <span class="st">"NO"</span> <span class="sc">~</span> <span class="st">"Norge"</span>,</span>
<span id="cb41-18"><a href="#cb41-18" aria-hidden="true" tabindex="-1"></a>      country <span class="sc">==</span> <span class="st">"SE"</span> <span class="sc">~</span> <span class="st">"Sverige"</span>,</span>
<span id="cb41-19"><a href="#cb41-19" aria-hidden="true" tabindex="-1"></a>      country <span class="sc">==</span> <span class="st">"FI"</span> <span class="sc">~</span> <span class="st">"Finland"</span>,</span>
<span id="cb41-20"><a href="#cb41-20" aria-hidden="true" tabindex="-1"></a>      country <span class="sc">==</span> <span class="st">"CH"</span> <span class="sc">~</span> <span class="st">"Sveits"</span>,</span>
<span id="cb41-21"><a href="#cb41-21" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="fu">as.character</span>(country)  <span class="co"># Default: Behold country som country_name hvis ingen betingelser matcher</span></span>
<span id="cb41-22"><a href="#cb41-22" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb41-23"><a href="#cb41-23" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Oppgave 15)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Lager NUTS2, NUTS1, og NUTSc</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>eu_data <span class="ot">&lt;-</span> eu_data <span class="sc">%&gt;%</span></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">NUTS2 =</span> <span class="fu">str_sub</span>(NUTS3, <span class="at">start =</span> <span class="dv">1</span>, <span class="at">end =</span> <span class="dv">4</span>),</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">NUTS1 =</span> <span class="fu">str_sub</span>(NUTS3, <span class="at">start =</span> <span class="dv">1</span>, <span class="at">end =</span> <span class="dv">3</span>),</span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">NUTSc =</span> <span class="fu">str_sub</span>(NUTS3, <span class="at">start =</span> <span class="dv">1</span>, <span class="at">end =</span> <span class="dv">2</span>)</span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Velger rekkefølge på landene</span></span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(country_name, country, year, NUTS3, NUTS2, NUTS1, NUTSc, gdp, pop, gdp_per_capita)</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Oppgave 16)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>gini_NUTS2 <span class="ot">&lt;-</span> eu_data <span class="sc">%&gt;%</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(NUTS2, country_name, country, year) <span class="sc">%&gt;%</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">gini_nuts2 =</span> <span class="fu">Gini</span>(</span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> gdp_per_capita,</span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">weights =</span> pop,</span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">pop =</span> <span class="fu">sum</span>(pop, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">gdp =</span> <span class="fu">sum</span>(gdp, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">gdp_per_capita =</span> gdp <span class="sc">/</span> pop,</span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">num_nuts3 =</span> <span class="fu">n</span>(),</span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb43-14"><a href="#cb43-14" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb43-15"><a href="#cb43-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(country_name, country, NUTS2, year, pop, gdp, gdp_per_capita, num_nuts3, gini_nuts2)</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>gini_NUTS2 <span class="sc">|&gt;</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>() <span class="sc">|&gt;</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="at">width =</span> <span class="dv">80</span>)</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> country_name         country             NUTS2               year          
 Length:4193        Length:4193        Length:4193        Length:4193       
 Class :character   Class :character   Class :character   Class :character  
 Mode  :character   Mode  :character   Mode  :character   Mode  :character  
                                                                            
                                                                            
                                                                            
                                                                            
      pop                gdp            gdp_per_capita    num_nuts3     
 Min.   :       0   Min.   :8.512e+07   Min.   : 3359   Min.   : 1.000  
 1st Qu.:  714880   1st Qu.:1.628e+10   1st Qu.:19425   1st Qu.: 2.000  
 Median : 1451900   Median :3.416e+10   Median :24498   Median : 4.000  
 Mean   : 1876835   Mean   :5.042e+10   Mean   :  Inf   Mean   : 5.023  
 3rd Qu.: 2374900   3rd Qu.:6.267e+10   3rd Qu.:30870   3rd Qu.: 7.000  
 Max.   :12363480   Max.   :6.996e+11   Max.   :  Inf   Max.   :23.000  
                                                                        
   gini_nuts2    
 Min.   :0.0001  
 1st Qu.:0.0591  
 Median :0.1014  
 Mean   :0.1196  
 3rd Qu.:0.1603  
 Max.   :0.4547  
 NA's   :703     </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>gini_NUTS2 <span class="sc">|&gt;</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(<span class="sc">-</span>country_name) <span class="sc">|&gt;</span></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(gini_nuts2 <span class="sc">&lt;</span> <span class="fl">0.001</span>)</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 8
  country NUTS2 year      pop         gdp gdp_per_capita num_nuts3 gini_nuts2
  &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt;   &lt;dbl&gt;       &lt;dbl&gt;          &lt;dbl&gt;     &lt;int&gt;      &lt;dbl&gt;
1 ES      ES43  2010  1100400 18879360000         17157.         2   0.000405
2 IT      ITF5  2006   588300 11135870000         18929.         2   0.000545
3 NO      NO07  2010   467100 13738470000         29412.         2   0.000479
4 PL      PL43  2020  1010100 18762060000         18574.         2   0.000148</code></pre>
</div>
</div>
<p>Oppgave 17)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>gini_NUTS1 <span class="ot">&lt;-</span> eu_data <span class="sc">%&gt;%</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(NUTS1, country_name, country, year) <span class="sc">%&gt;%</span></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">gini_nuts1 =</span> <span class="fu">Gini</span>(</span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> gdp_per_capita,</span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">weights =</span> pop,</span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">pop =</span> <span class="fu">sum</span>(pop, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">gdp =</span> <span class="fu">sum</span>(gdp, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb48-11"><a href="#cb48-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">gdp_per_capita =</span> gdp <span class="sc">/</span> pop,</span>
<span id="cb48-12"><a href="#cb48-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">num_nuts2 =</span> <span class="fu">n_distinct</span>(NUTS2),</span>
<span id="cb48-13"><a href="#cb48-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb48-14"><a href="#cb48-14" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb48-15"><a href="#cb48-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(country_name, country, NUTS1, year, pop, gdp, gdp_per_capita, num_nuts2, gini_nuts1)</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>gini_NUTS1 <span class="sc">|&gt;</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>() <span class="sc">|&gt;</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="at">width =</span> <span class="dv">80</span>)</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> country_name         country             NUTS1               year          
 Length:1545        Length:1545        Length:1545        Length:1545       
 Class :character   Class :character   Class :character   Class :character  
 Mode  :character   Mode  :character   Mode  :character   Mode  :character  
                                                                            
                                                                            
                                                                            
                                                                            
      pop                gdp            gdp_per_capita    num_nuts2    
 Min.   :   25740   Min.   :6.815e+08   Min.   : 6423   Min.   :1.000  
 1st Qu.: 2544800   1st Qu.:5.422e+10   1st Qu.:19819   1st Qu.:1.000  
 Median : 4032210   Median :9.979e+10   Median :24765   Median :3.000  
 Mean   : 5093573   Mean   :1.368e+11   Mean   :26180   Mean   :2.714  
 3rd Qu.: 6076380   3rd Qu.:1.649e+11   3rd Qu.:31275   3rd Qu.:4.000  
 Max.   :17939970   Max.   :6.996e+11   Max.   :63383   Max.   :7.000  
                                                                       
   gini_nuts1     
 Min.   :0.01983  
 1st Qu.:0.08361  
 Median :0.12644  
 Mean   :0.13387  
 3rd Qu.:0.16753  
 Max.   :0.39082  
 NA's   :144      </code></pre>
</div>
</div>
<p>Oppgave 18)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>gini_NUTSc <span class="ot">&lt;-</span> eu_data <span class="sc">%&gt;%</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(NUTSc, country_name, country, year) <span class="sc">%&gt;%</span></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">gini_nutsc =</span> <span class="fu">Gini</span>(</span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> gdp_per_capita,</span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">weights =</span> pop,</span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">pop =</span> <span class="fu">sum</span>(pop, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">gdp =</span> <span class="fu">sum</span>(gdp, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb51-11"><a href="#cb51-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">gdp_per_capita =</span> gdp <span class="sc">/</span> pop,</span>
<span id="cb51-12"><a href="#cb51-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">num_nuts1 =</span> <span class="fu">n_distinct</span>(NUTS1),</span>
<span id="cb51-13"><a href="#cb51-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb51-14"><a href="#cb51-14" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb51-15"><a href="#cb51-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(country_name, country, NUTSc, year, pop, gdp, gdp_per_capita, num_nuts1, gini_nutsc)</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>gini_NUTSc <span class="sc">|&gt;</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>() <span class="sc">|&gt;</span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="at">width =</span> <span class="dv">80</span>)</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> country_name         country             NUTSc               year          
 Length:312         Length:312         Length:312         Length:312        
 Class :character   Class :character   Class :character   Class :character  
 Mode  :character   Mode  :character   Mode  :character   Mode  :character  
                                                                            
                                                                            
                                                                            
      pop                gdp            gdp_per_capita    num_nuts1     
 Min.   : 3543470   Min.   :9.547e+10   Min.   : 8865   Min.   : 1.000  
 1st Qu.: 7997358   1st Qu.:2.037e+11   1st Qu.:23421   1st Qu.: 2.000  
 Median :10557885   Median :3.121e+11   Median :28361   Median : 3.000  
 Mean   :25222983   Mean   :6.776e+11   Mean   :28676   Mean   : 4.952  
 3rd Qu.:43837275   3rd Qu.:1.010e+12   3rd Qu.:34222   3rd Qu.: 7.000  
 Max.   :83161210   Max.   :3.147e+12   Max.   :61599   Max.   :16.000  
   gini_nutsc    
 Min.   :0.1110  
 1st Qu.:0.1430  
 Median :0.1691  
 Mean   :0.1755  
 3rd Qu.:0.2004  
 Max.   :0.3826  </code></pre>
</div>
</div>
<p>Oppgave 19)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>gini_NUTS2_nest <span class="ot">&lt;-</span> gini_NUTS2 <span class="sc">|&gt;</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a><span class="fu">group_by</span>(country_name, country) <span class="sc">|&gt;</span></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a><span class="fu">nest</span>(<span class="at">.key =</span> <span class="st">"NUTS2_data"</span>) <span class="sc">|&gt;</span></span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ungroup</span>()</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Oppgave 20</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>gini_NUTS1_nest <span class="ot">&lt;-</span> gini_NUTS1 <span class="sc">|&gt;</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="fu">group_by</span>(country_name, country) <span class="sc">|&gt;</span></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a><span class="fu">nest</span>(<span class="at">.key =</span> <span class="st">"NUTS1_data"</span>) <span class="sc">|&gt;</span></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ungroup</span>()</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Oppgave 21</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>gini_NUTSc_nest <span class="ot">&lt;-</span> gini_NUTSc <span class="sc">|&gt;</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="fu">group_by</span>(country_name, country) <span class="sc">|&gt;</span></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a><span class="fu">nest</span>(<span class="at">.key =</span> <span class="st">"NUTSc_data"</span>) <span class="sc">|&gt;</span></span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ungroup</span>()</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Oppgave 22</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Grupper etter land og neste dataene på NUTS3-nivå</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>eu_data_nested <span class="ot">&lt;-</span> eu_data <span class="sc">%&gt;%</span></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(country_name, country) <span class="sc">%&gt;%</span></span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nest</span>() <span class="sc">%&gt;%</span></span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">NUTS3_data =</span> data) <span class="sc">%&gt;%</span></span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a>gini_NUTS2_nest_unique <span class="ot">&lt;-</span> gini_NUTS2_nest <span class="sc">%&gt;%</span> </span>
<span id="cb57-10"><a href="#cb57-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(country_name, country, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>)</span>
<span id="cb57-11"><a href="#cb57-11" aria-hidden="true" tabindex="-1"></a>gini_NUTS1_nest_unique <span class="ot">&lt;-</span> gini_NUTS1_nest <span class="sc">%&gt;%</span> </span>
<span id="cb57-12"><a href="#cb57-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(country_name, country, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>)</span>
<span id="cb57-13"><a href="#cb57-13" aria-hidden="true" tabindex="-1"></a>gini_NUTSc_nest_unique <span class="ot">&lt;-</span> gini_NUTSc_nest <span class="sc">%&gt;%</span> </span>
<span id="cb57-14"><a href="#cb57-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(country_name, country, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>)</span>
<span id="cb57-15"><a href="#cb57-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-16"><a href="#cb57-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Left join med de unike gini-datasettene</span></span>
<span id="cb57-17"><a href="#cb57-17" aria-hidden="true" tabindex="-1"></a>eu_data_nested <span class="ot">&lt;-</span> eu_data_nested <span class="sc">%&gt;%</span></span>
<span id="cb57-18"><a href="#cb57-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(gini_NUTS2_nest_unique, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"country_name"</span>, <span class="st">"country"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb57-19"><a href="#cb57-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(gini_NUTS1_nest_unique, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"country_name"</span>, <span class="st">"country"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb57-20"><a href="#cb57-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(gini_NUTSc_nest_unique, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"country_name"</span>, <span class="st">"country"</span>))</span>
<span id="cb57-21"><a href="#cb57-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-22"><a href="#cb57-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Fjerner gruppestrukturen og eventuelle duplikater</span></span>
<span id="cb57-23"><a href="#cb57-23" aria-hidden="true" tabindex="-1"></a>eu_data_nested <span class="ot">&lt;-</span> eu_data_nested <span class="sc">%&gt;%</span></span>
<span id="cb57-24"><a href="#cb57-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb57-25"><a href="#cb57-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(country_name, country, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>)</span>
<span id="cb57-26"><a href="#cb57-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-27"><a href="#cb57-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Sjekk strukturen til den endelige dataframen</span></span>
<span id="cb57-28"><a href="#cb57-28" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(eu_data_nested)</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 16 × 6
   country_name country NUTS3_data           NUTS2_data NUTS1_data NUTSc_data
   &lt;chr&gt;        &lt;chr&gt;   &lt;list&gt;               &lt;list&gt;     &lt;list&gt;     &lt;list&gt;    
 1 Østerrike    AT      &lt;tibble [735 × 8]&gt;   &lt;tibble&gt;   &lt;tibble&gt;   &lt;tibble&gt;  
 2 Belgia       BE      &lt;tibble [712 × 8]&gt;   &lt;tibble&gt;   &lt;tibble&gt;   &lt;tibble&gt;  
 3 Sveits       CH      &lt;tibble [208 × 8]&gt;   &lt;tibble&gt;   &lt;tibble&gt;   &lt;tibble&gt;  
 4 Tyskland     DE      &lt;tibble [8,421 × 8]&gt; &lt;tibble&gt;   &lt;tibble&gt;   &lt;tibble&gt;  
 5 Danmark      DK      &lt;tibble [231 × 8]&gt;   &lt;tibble&gt;   &lt;tibble&gt;   &lt;tibble&gt;  
 6 Hellas       EL      &lt;tibble [1,092 × 8]&gt; &lt;tibble&gt;   &lt;tibble&gt;   &lt;tibble&gt;  
 7 Spania       ES      &lt;tibble [1,239 × 8]&gt; &lt;tibble&gt;   &lt;tibble&gt;   &lt;tibble&gt;  
 8 Finland      FI      &lt;tibble [399 × 8]&gt;   &lt;tibble&gt;   &lt;tibble&gt;   &lt;tibble&gt;  
 9 Frankrike    FR      &lt;tibble [2,121 × 8]&gt; &lt;tibble&gt;   &lt;tibble&gt;   &lt;tibble&gt;  
10 Irland       IE      &lt;tibble [162 × 8]&gt;   &lt;tibble&gt;   &lt;tibble&gt;   &lt;tibble&gt;  
11 Italia       IT      &lt;tibble [2,247 × 8]&gt; &lt;tibble&gt;   &lt;tibble&gt;   &lt;tibble&gt;  
12 Nederland    NL      &lt;tibble [840 × 8]&gt;   &lt;tibble&gt;   &lt;tibble&gt;   &lt;tibble&gt;  
13 Norge        NO      &lt;tibble [156 × 8]&gt;   &lt;tibble&gt;   &lt;tibble&gt;   &lt;tibble&gt;  
14 Polen        PL      &lt;tibble [1,533 × 8]&gt; &lt;tibble&gt;   &lt;tibble&gt;   &lt;tibble&gt;  
15 Portugal     PT      &lt;tibble [525 × 8]&gt;   &lt;tibble&gt;   &lt;tibble&gt;   &lt;tibble&gt;  
16 Sverige      SE      &lt;tibble [441 × 8]&gt;   &lt;tibble&gt;   &lt;tibble&gt;   &lt;tibble&gt;  </code></pre>
</div>
</div>
<p>Oppgave 23</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Jeg vil foreslå å heller ta data fra eu_data_nested. Trenger da ikke så mange</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="co"># objekter og det hele blir ryddigere og minsker risikoen for feil</span></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a><span class="co">#gini_NUTSc |&gt;</span></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>eu_data_nested <span class="sc">|&gt;</span> </span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(NUTSc_data) <span class="sc">|&gt;</span> </span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># ag_comment: fikser verdier horisontal akse ved å gjøre year</span></span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># om fra integer til date. Merk at det bare gjøres i pipen her, så</span></span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># year er fremdeles integer i eu_data_nested</span></span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb59-10"><a href="#cb59-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">year =</span> <span class="fu">make_date</span>(year)</span>
<span id="cb59-11"><a href="#cb59-11" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb59-12"><a href="#cb59-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(</span>
<span id="cb59-13"><a href="#cb59-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb59-14"><a href="#cb59-14" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> year,</span>
<span id="cb59-15"><a href="#cb59-15" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> gini_nutsc,</span>
<span id="cb59-16"><a href="#cb59-16" aria-hidden="true" tabindex="-1"></a>      <span class="at">group =</span> country,</span>
<span id="cb59-17"><a href="#cb59-17" aria-hidden="true" tabindex="-1"></a>      <span class="at">color =</span> country_name</span>
<span id="cb59-18"><a href="#cb59-18" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-19"><a href="#cb59-19" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span> </span>
<span id="cb59-20"><a href="#cb59-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb59-21"><a href="#cb59-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Utvikling i Gini-koeffisient på nasjonsnivå"</span>,</span>
<span id="cb59-22"><a href="#cb59-22" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"År"</span>,</span>
<span id="cb59-23"><a href="#cb59-23" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Gini-koeffisient"</span>)</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Assignment_4_DS_files/figure-html/unnamed-chunk-42-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Oppgave 24</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>eu_data_nested <span class="sc">|&gt;</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a><span class="fu">unnest</span>(NUTSc_data) <span class="sc">|&gt;</span></span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2020</span>) <span class="sc">|&gt;</span></span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(country_name, gini_nutsc) <span class="sc">|&gt;</span></span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a><span class="fu">arrange</span>(<span class="fu">desc</span>(gini_nutsc)) <span class="sc">|&gt;</span></span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a><span class="fu">flextable</span>() <span class="sc">|&gt;</span></span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a><span class="fu">width</span>(<span class="dv">1</span>, <span class="at">width =</span> <span class="fl">1.5</span>) <span class="sc">|&gt;</span></span>
<span id="cb60-8"><a href="#cb60-8" aria-hidden="true" tabindex="-1"></a><span class="fu">width</span>(<span class="dv">2</span>, <span class="at">width =</span> <span class="fl">1.5</span>)</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="tabwid"><style>.cl-b6264742{}.cl-b6233da4{font-family:'Helvetica';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-b624766a{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-b6247674{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-b6247df4{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b6247dfe{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b6247dff{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b6247e08{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b6247e09{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b6247e0a{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-b6264742"><thead><tr style="overflow-wrap:break-word;"><th class="cl-b6247df4"><p class="cl-b624766a"><span class="cl-b6233da4">country_name</span></p></th><th class="cl-b6247dfe"><p class="cl-b6247674"><span class="cl-b6233da4">gini_nutsc</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-b6247dff"><p class="cl-b624766a"><span class="cl-b6233da4">Irland</span></p></td><td class="cl-b6247e08"><p class="cl-b6247674"><span class="cl-b6233da4">0.3826165</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b6247dff"><p class="cl-b624766a"><span class="cl-b6233da4">Polen</span></p></td><td class="cl-b6247e08"><p class="cl-b6247674"><span class="cl-b6233da4">0.2378284</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b6247dff"><p class="cl-b624766a"><span class="cl-b6233da4">Frankrike</span></p></td><td class="cl-b6247e08"><p class="cl-b6247674"><span class="cl-b6233da4">0.2064403</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b6247dff"><p class="cl-b624766a"><span class="cl-b6233da4">Hellas</span></p></td><td class="cl-b6247e08"><p class="cl-b6247674"><span class="cl-b6233da4">0.2036007</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b6247dff"><p class="cl-b624766a"><span class="cl-b6233da4">Tyskland</span></p></td><td class="cl-b6247e08"><p class="cl-b6247674"><span class="cl-b6233da4">0.2020493</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b6247dff"><p class="cl-b624766a"><span class="cl-b6233da4">Belgia</span></p></td><td class="cl-b6247e08"><p class="cl-b6247674"><span class="cl-b6233da4">0.1959298</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b6247dff"><p class="cl-b624766a"><span class="cl-b6233da4">Italia</span></p></td><td class="cl-b6247e08"><p class="cl-b6247674"><span class="cl-b6233da4">0.1845053</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b6247dff"><p class="cl-b624766a"><span class="cl-b6233da4">Danmark</span></p></td><td class="cl-b6247e08"><p class="cl-b6247674"><span class="cl-b6233da4">0.1654528</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b6247dff"><p class="cl-b624766a"><span class="cl-b6233da4">Nederland</span></p></td><td class="cl-b6247e08"><p class="cl-b6247674"><span class="cl-b6233da4">0.1573150</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b6247dff"><p class="cl-b624766a"><span class="cl-b6233da4">Norge</span></p></td><td class="cl-b6247e08"><p class="cl-b6247674"><span class="cl-b6233da4">0.1510297</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b6247dff"><p class="cl-b624766a"><span class="cl-b6233da4">Spania</span></p></td><td class="cl-b6247e08"><p class="cl-b6247674"><span class="cl-b6233da4">0.1400519</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b6247dff"><p class="cl-b624766a"><span class="cl-b6233da4">Sverige</span></p></td><td class="cl-b6247e08"><p class="cl-b6247674"><span class="cl-b6233da4">0.1323442</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b6247dff"><p class="cl-b624766a"><span class="cl-b6233da4">Portugal</span></p></td><td class="cl-b6247e08"><p class="cl-b6247674"><span class="cl-b6233da4">0.1230546</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b6247dff"><p class="cl-b624766a"><span class="cl-b6233da4">Østerrike</span></p></td><td class="cl-b6247e08"><p class="cl-b6247674"><span class="cl-b6233da4">0.1224705</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b6247e09"><p class="cl-b624766a"><span class="cl-b6233da4">Finland</span></p></td><td class="cl-b6247e0a"><p class="cl-b6247674"><span class="cl-b6233da4">0.1212452</span></p></td></tr></tbody></table></div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>eu_data_nested <span class="sc">%&gt;%</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(NUTS2_data) <span class="sc">%&gt;%</span></span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(country <span class="sc">==</span> <span class="st">"IE"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2000</span><span class="sc">:</span><span class="dv">2020</span>) <span class="sc">%&gt;%</span></span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(year, NUTS2, gdp_per_capita, gini_nuts2) <span class="sc">%&gt;%</span></span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(gini_nuts2)) <span class="sc">%&gt;%</span></span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">flextable</span>() <span class="sc">%&gt;%</span></span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">width</span>(<span class="dv">1</span>, <span class="at">width =</span> <span class="fl">1.5</span>) <span class="sc">%&gt;%</span></span>
<span id="cb61-9"><a href="#cb61-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">width</span>(<span class="dv">2</span>, <span class="at">width =</span> <span class="fl">1.5</span>)</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="tabwid"><style>.cl-b6343262{}.cl-b6308432{font-family:'Helvetica';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-b631ec00{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-b631ec0a{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-b631f4fc{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b631f4fd{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b631f506{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b631f507{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b631f508{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b631f509{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-b6343262"><thead><tr style="overflow-wrap:break-word;"><th class="cl-b631f4fc"><p class="cl-b631ec00"><span class="cl-b6308432">year</span></p></th><th class="cl-b631f4fc"><p class="cl-b631ec00"><span class="cl-b6308432">NUTS2</span></p></th><th class="cl-b631f4fd"><p class="cl-b631ec0a"><span class="cl-b6308432">gdp_per_capita</span></p></th><th class="cl-b631f4fd"><p class="cl-b631ec0a"><span class="cl-b6308432">gini_nuts2</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2020</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE06</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">64,839.24</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.43423978</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2019</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE06</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">61,274.46</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.39684316</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2014</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE06</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">43,838.62</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.39008370</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2013</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE06</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">40,634.37</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.38360258</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2020</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE05</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">76,983.92</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.38215439</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2018</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE06</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">59,937.07</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.37901152</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2017</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE06</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">57,092.90</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.36839547</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2012</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE06</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">38,688.55</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.35534175</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2016</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE06</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">53,774.71</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.35346251</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2011</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE06</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">37,708.15</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.34423906</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2015</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE06</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">49,405.75</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.33548581</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2018</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE05</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">71,209.31</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.33340668</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2010</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE06</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">38,186.56</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.32317347</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2020</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE04</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">23,696.39</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.32178852</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2019</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE05</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">74,539.22</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.27480470</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2001</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE06</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">30,485.86</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.27125525</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2009</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE06</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">36,569.62</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.26782869</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2008</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE06</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">39,852.99</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.26258757</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2005</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE06</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">38,579.77</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.25673014</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2000</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE06</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">29,192.95</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.24578629</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2012</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE05</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">33,372.58</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.24476866</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2011</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE05</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">32,826.67</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.24429044</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2007</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE06</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">42,350.73</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.23501259</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2002</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE05</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">29,920.73</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.23133080</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2003</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE06</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">33,002.40</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.22778539</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2004</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE06</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">36,195.35</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.22757404</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2006</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE06</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">40,448.89</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.22348125</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2014</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE04</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">22,524.99</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.21387000</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2014</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE05</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">33,924.39</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.21325659</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2002</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE06</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">31,805.13</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.21019030</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2016</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE04</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">22,942.09</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.20662891</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2015</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE04</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">24,124.46</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.20607425</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2010</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE05</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">30,680.67</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.19852713</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2009</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE05</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">29,667.47</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.19583205</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2012</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE04</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">24,150.40</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.19386944</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2019</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE04</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">25,184.98</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.17456392</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2013</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE04</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">21,574.19</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.17280122</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2011</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE04</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">24,164.51</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.17174129</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2001</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE05</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">26,998.52</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.17157286</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2018</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE04</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">25,146.39</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.16895623</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2010</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE04</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">21,949.62</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.16571218</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2013</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE05</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">32,815.19</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.16406741</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2003</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE05</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">30,664.21</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.15978361</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2005</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE05</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">31,326.17</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.15701296</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2007</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE05</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">35,714.88</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.15286466</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2006</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE05</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">33,455.42</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.15216101</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2017</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE04</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">25,035.40</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.15140781</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2000</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE05</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">23,835.52</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.14272675</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2004</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE05</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">30,657.57</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.14181869</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2008</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE05</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">32,355.49</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.13684589</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2001</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE04</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">17,661.33</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.12956190</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2009</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE04</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">20,296.05</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.12750682</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2000</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE04</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">16,692.46</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.12312561</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2008</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE04</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">22,675.35</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.09187490</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2004</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE04</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">21,620.15</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.08109587</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2007</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE04</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">24,585.47</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.07999625</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2005</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE04</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">22,089.61</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.07961662</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2006</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE04</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">24,331.68</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.06434471</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2002</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE04</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">19,128.84</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.06318599</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2003</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE04</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">19,637.24</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">0.03032886</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2015</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE05</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">30,172.28</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">2016</span></p></td><td class="cl-b631f506"><p class="cl-b631ec00"><span class="cl-b6308432">IE05</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432">29,699.72</span></p></td><td class="cl-b631f507"><p class="cl-b631ec0a"><span class="cl-b6308432"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b631f508"><p class="cl-b631ec00"><span class="cl-b6308432">2017</span></p></td><td class="cl-b631f508"><p class="cl-b631ec00"><span class="cl-b6308432">IE05</span></p></td><td class="cl-b631f509"><p class="cl-b631ec0a"><span class="cl-b6308432">29,789.05</span></p></td><td class="cl-b631f509"><p class="cl-b631ec0a"><span class="cl-b6308432"></span></p></td></tr></tbody></table></div>
</div>
</div>
<p>Oppgave 25</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>eu_data_nested <span class="sc">|&gt;</span> </span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(country <span class="sc">==</span> <span class="st">"ES"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(NUTS2_data) <span class="sc">|&gt;</span> </span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">make_date</span>(year)) <span class="sc">|&gt;</span> </span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(</span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb62-7"><a href="#cb62-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> year,</span>
<span id="cb62-8"><a href="#cb62-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> gini_nuts2,</span>
<span id="cb62-9"><a href="#cb62-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">group =</span> NUTS2,</span>
<span id="cb62-10"><a href="#cb62-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">color =</span> NUTS2,</span>
<span id="cb62-11"><a href="#cb62-11" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb62-12"><a href="#cb62-12" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb62-13"><a href="#cb62-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>()</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Assignment_4_DS_files/figure-html/unnamed-chunk-45-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Oppgave 26</p>
<p>Spania</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>eu_data_nested <span class="sc">|&gt;</span> </span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(country <span class="sc">==</span> <span class="st">"ES"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(NUTS1_data) <span class="sc">|&gt;</span></span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">make_date</span>(year)) <span class="sc">|&gt;</span> </span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(</span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> year,</span>
<span id="cb63-8"><a href="#cb63-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> gini_nuts1,</span>
<span id="cb63-9"><a href="#cb63-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">group =</span> NUTS1,</span>
<span id="cb63-10"><a href="#cb63-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">color =</span> NUTS1,</span>
<span id="cb63-11"><a href="#cb63-11" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb63-12"><a href="#cb63-12" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb63-13"><a href="#cb63-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() </span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 21 rows containing missing values (`geom_line()`).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="Assignment_4_DS_files/figure-html/unnamed-chunk-46-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Oppgave 27</p>
<p>Det er en stor spredning i ulikheter mellom regionene i Spania. Det viser en ujevn fordeling av verdiskapning i landet, og man kan se at rundt halvparten av regionene har en lav positiv utvikling (ulikheter øker i regionen), mens den andre halvparten har avtagende utvikling (mindre ulikheter).</p>
<p>Oppgave 28</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filtrer på Spania (ES) og NUTS2-nivå</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>eu_data_nested <span class="sc">|&gt;</span> </span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(NUTS2_data) <span class="sc">|&gt;</span> </span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(country <span class="sc">==</span> <span class="st">"ES"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">make_date</span>(year)) <span class="sc">|&gt;</span> </span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(</span>
<span id="cb65-7"><a href="#cb65-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">aes</span>(</span>
<span id="cb65-8"><a href="#cb65-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> year,</span>
<span id="cb65-9"><a href="#cb65-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> gdp_per_capita,</span>
<span id="cb65-10"><a href="#cb65-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">group =</span> NUTS2,</span>
<span id="cb65-11"><a href="#cb65-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">color =</span> NUTS2</span>
<span id="cb65-12"><a href="#cb65-12" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb65-13"><a href="#cb65-13" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb65-14"><a href="#cb65-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb65-15"><a href="#cb65-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Utvikling i GDP per Capita på NUTS2-nivå i Spania"</span>,</span>
<span id="cb65-16"><a href="#cb65-16" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"År"</span>,</span>
<span id="cb65-17"><a href="#cb65-17" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"GDP per Capita"</span>) <span class="sc">+</span> </span>
<span id="cb65-18"><a href="#cb65-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>)</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Assignment_4_DS_files/figure-html/unnamed-chunk-47-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Oppgave 29</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>eu_data_nested <span class="sc">|&gt;</span> </span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(country <span class="sc">==</span> <span class="st">"DE"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(NUTS2_data) <span class="sc">|&gt;</span> </span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">make_date</span>(year)) <span class="sc">|&gt;</span> </span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(</span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb66-7"><a href="#cb66-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> year,</span>
<span id="cb66-8"><a href="#cb66-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> gini_nuts2,</span>
<span id="cb66-9"><a href="#cb66-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">group =</span> NUTS2</span>
<span id="cb66-10"><a href="#cb66-10" aria-hidden="true" tabindex="-1"></a>      <span class="co"># ag_comment. Droppe fargekoding</span></span>
<span id="cb66-11"><a href="#cb66-11" aria-hidden="true" tabindex="-1"></a>      <span class="co">#color = NUTS2,</span></span>
<span id="cb66-12"><a href="#cb66-12" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb66-13"><a href="#cb66-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb66-14"><a href="#cb66-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">show.legend =</span> <span class="cn">FALSE</span>)</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-de-nuts2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="Assignment_4_DS_files/figure-html/fig-de-nuts2-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figur&nbsp;1: Utviklingen i NUTS 2 gini-koeffisienter over årene 2000 til 2020 i Tyskland. Vi ser en svak negativ tendens, dvs reduksjon i forskjellen mellom NUTS 3 regioner. En NUTS 2 region skiller seg imidlertid klart ut fra dette generelle bildet.</figcaption>
</figure>
</div>
</div>
</div>
<p>Oppgave 30</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>eu_data_nested <span class="sc">|&gt;</span> </span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(country <span class="sc">==</span> <span class="st">"DE"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(NUTS1_data) <span class="sc">|&gt;</span> </span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">make_date</span>(year)) <span class="sc">|&gt;</span> </span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(</span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> year,</span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> gini_nuts1,</span>
<span id="cb67-9"><a href="#cb67-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">group =</span> NUTS1,</span>
<span id="cb67-10"><a href="#cb67-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">color =</span> NUTS1,</span>
<span id="cb67-11"><a href="#cb67-11" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb67-12"><a href="#cb67-12" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb67-13"><a href="#cb67-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb67-14"><a href="#cb67-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>)</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Assignment_4_DS_files/figure-html/unnamed-chunk-49-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Intervallene på NUTS1 nivå er lavere og det er mindre spredning. Den avtagende utviklingen er relativt lik.</p>
<p>Oppgave 31</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>eu_data_nested <span class="sc">|&gt;</span> </span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(country <span class="sc">==</span> <span class="st">"FR"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(NUTS2_data) <span class="sc">|&gt;</span> </span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">make_date</span>(year)) <span class="sc">|&gt;</span> </span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(</span>
<span id="cb68-6"><a href="#cb68-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb68-7"><a href="#cb68-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> year,</span>
<span id="cb68-8"><a href="#cb68-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> gini_nuts2,</span>
<span id="cb68-9"><a href="#cb68-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">group =</span> NUTS2,</span>
<span id="cb68-10"><a href="#cb68-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">color =</span> NUTS2,</span>
<span id="cb68-11"><a href="#cb68-11" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb68-12"><a href="#cb68-12" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb68-13"><a href="#cb68-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() </span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Assignment_4_DS_files/figure-html/unnamed-chunk-50-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Oppgave 32</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>eu_data_nested <span class="sc">|&gt;</span> </span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(country <span class="sc">==</span> <span class="st">"FR"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(NUTS1_data) <span class="sc">|&gt;</span> </span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">make_date</span>(year)) <span class="sc">|&gt;</span> </span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(</span>
<span id="cb69-6"><a href="#cb69-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb69-7"><a href="#cb69-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> year,</span>
<span id="cb69-8"><a href="#cb69-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> gini_nuts1,</span>
<span id="cb69-9"><a href="#cb69-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">group =</span> NUTS1,</span>
<span id="cb69-10"><a href="#cb69-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">color =</span> NUTS1,</span>
<span id="cb69-11"><a href="#cb69-11" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb69-12"><a href="#cb69-12" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb69-13"><a href="#cb69-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() </span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Assignment_4_DS_files/figure-html/unnamed-chunk-51-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Oppgave 33</p>
<p>Regionen som klart skiller seg ut fra resten er regionen er FR1, hvor Paris (FR101) befinner seg. De store ulikhetene tilsier at Paris står for store deler av FR1 sin BNP i forhold til resten av regionen, og dette skaper høy ulikheter i regionen.</p>
<p>Oppgave 34</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>eu_data_nested <span class="sc">|&gt;</span> </span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(country <span class="sc">==</span> <span class="st">"FR"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(NUTS3_data) <span class="sc">|&gt;</span> </span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">make_date</span>(year)) <span class="sc">|&gt;</span> </span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(NUTS1 <span class="sc">==</span> <span class="st">"FR1"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb70-6"><a href="#cb70-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(</span>
<span id="cb70-7"><a href="#cb70-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb70-8"><a href="#cb70-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> year,</span>
<span id="cb70-9"><a href="#cb70-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> gdp_per_capita,</span>
<span id="cb70-10"><a href="#cb70-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">group =</span> NUTS3,</span>
<span id="cb70-11"><a href="#cb70-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">color =</span> NUTS3,</span>
<span id="cb70-12"><a href="#cb70-12" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb70-13"><a href="#cb70-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb70-14"><a href="#cb70-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() </span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Assignment_4_DS_files/figure-html/unnamed-chunk-52-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Oppgave 35</p>
<p>Her ser vi at det vi anntok i oppgave 33 stemmer, FR101 er Paris og denne skiller seg klart ut fra resten, sammen med en annen region.</p>
<p>Oppgave 36</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>NUTS2_diff <span class="ot">&lt;-</span> eu_data_nested <span class="sc">|&gt;</span></span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a><span class="fu">unnest</span>(NUTS2_data) <span class="sc">|&gt;</span></span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a><span class="fu">mutate</span>(</span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Når vi tar diff får vi en obs. mindre. Legger derfor inn en NA først</span></span>
<span id="cb71-5"><a href="#cb71-5" aria-hidden="true" tabindex="-1"></a><span class="co"># i vektoren</span></span>
<span id="cb71-6"><a href="#cb71-6" aria-hidden="true" tabindex="-1"></a><span class="at">diff_gdp_per_capita =</span> <span class="fu">c</span>(<span class="cn">NA</span>, <span class="fu">diff</span>(gdp_per_capita)),</span>
<span id="cb71-7"><a href="#cb71-7" aria-hidden="true" tabindex="-1"></a><span class="at">diff_gini_nuts2 =</span> <span class="fu">c</span>(<span class="cn">NA</span>, <span class="fu">diff</span>(gini_nuts2))</span>
<span id="cb71-8"><a href="#cb71-8" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb71-9"><a href="#cb71-9" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(country_name, country, NUTS2, year, diff_gdp_per_capita, diff_gini_nuts2) <span class="sc">%&gt;%</span></span>
<span id="cb71-10"><a href="#cb71-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Fjerner obs. der vi har NA</span></span>
<span id="cb71-11"><a href="#cb71-11" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(<span class="fu">complete.cases</span>(.)) <span class="sc">|&gt;</span></span>
<span id="cb71-12"><a href="#cb71-12" aria-hidden="true" tabindex="-1"></a><span class="fu">group_by</span>(country_name, country, NUTS2) <span class="sc">|&gt;</span></span>
<span id="cb71-13"><a href="#cb71-13" aria-hidden="true" tabindex="-1"></a><span class="fu">nest</span>(<span class="at">.key =</span> <span class="st">"NUTS2_diff"</span>)</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Oppgave 37</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Bruk modellen diff_gini_nuts2 ~ diff_gdp_per_capita på hver NUTS2-region</span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>NUTS2_diff <span class="ot">&lt;-</span> NUTS2_diff <span class="sc">%&gt;%</span></span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">modell =</span> <span class="fu">map</span>(NUTS2_diff, <span class="sc">~</span> <span class="fu">lm</span>(diff_gini_nuts2 <span class="sc">~</span> diff_gdp_per_capita, <span class="at">data =</span> .)))</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Oppgave 38</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>NUTS2_diff <span class="ot">&lt;-</span> NUTS2_diff <span class="sc">|&gt;</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a><span class="fu">group_by</span>(country_name, country, NUTS2) <span class="sc">|&gt;</span></span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a><span class="fu">mutate</span>(</span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a><span class="at">mod_coeff =</span> <span class="fu">map_df</span>(</span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a><span class="at">.x =</span> modell,</span>
<span id="cb73-6"><a href="#cb73-6" aria-hidden="true" tabindex="-1"></a><span class="at">.f =</span> coef</span>
<span id="cb73-7"><a href="#cb73-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb73-8"><a href="#cb73-8" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Oppgave 39</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>NUTS2_diff <span class="ot">&lt;-</span> NUTS2_diff <span class="sc">|&gt;</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a><span class="fu">group_by</span>(country_name, country, NUTS2) <span class="sc">|&gt;</span></span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a><span class="fu">mutate</span>(</span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a><span class="at">mod_sum =</span> <span class="fu">map_df</span>(</span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a><span class="at">.x =</span> modell,</span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true" tabindex="-1"></a><span class="at">.f =</span> glance</span>
<span id="cb74-7"><a href="#cb74-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb74-8"><a href="#cb74-8" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Oppgave 40</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>NUTS2_diff<span class="sc">$</span>mod_coeff <span class="sc">|&gt;</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_density</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> diff_gdp_per_capita), <span class="at">adjust =</span> <span class="fl">0.6</span>) <span class="sc">+</span></span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_vline</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">xintercept =</span> <span class="fu">mean</span>(diff_gdp_per_capita, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)),</span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a><span class="at">colour =</span> <span class="st">"gray60"</span>,</span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a><span class="at">linetype =</span> <span class="st">"dashed"</span>)</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Assignment_4_DS_files/figure-html/unnamed-chunk-57-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Oppgave 41</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Antall positive regresjonskoeffisienter</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>antall_positive_koef <span class="ot">&lt;-</span> <span class="fu">sum</span>(NUTS2_diff<span class="sc">$</span>modell <span class="sc">%&gt;%</span> <span class="fu">map_dbl</span>(<span class="sc">~</span> <span class="fu">coef</span>(.)[<span class="st">"diff_gdp_per_capita"</span>] <span class="sc">&gt;</span> <span class="dv">0</span>))</span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Antall positive regresjonskoeffisienter for diff_gdp_per_capita:"</span>, antall_positive_koef, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Antall positive regresjonskoeffisienter for diff_gdp_per_capita: 105 </code></pre>
</div>
</div>
<p>Oppgave 42</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Mean av regresjonskoeffisientene for diff_gdp_per_capita</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>gjennomsnitt_koef <span class="ot">&lt;-</span> <span class="fu">mean</span>(NUTS2_diff<span class="sc">$</span>mod_coeff<span class="sc">$</span>diff_gdp_per_capita)</span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(gjennomsnitt_koef)</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.720057e-06</code></pre>
</div>
</div>
<p>Oppgave 43</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="fu">t.test</span>(NUTS2_diff<span class="sc">$</span>mod_coeff<span class="sc">$</span>diff_gdp_per_capita, <span class="at">y =</span> <span class="cn">NULL</span>,</span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">alternative =</span> (<span class="st">"greater"</span>),</span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a>       <span class="at">mu =</span> <span class="dv">0</span>, <span class="at">paired =</span> <span class="cn">FALSE</span>, <span class="at">var.equal =</span> <span class="cn">FALSE</span>,</span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">conf.level =</span> <span class="fl">0.95</span>)</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    One Sample t-test

data:  NUTS2_diff$mod_coeff$diff_gdp_per_capita
t = 2.6226, df = 172, p-value = 0.004755
alternative hypothesis: true mean is greater than 0
95 percent confidence interval:
 6.35423e-07         Inf
sample estimates:
   mean of x 
1.720057e-06 </code></pre>
</div>
</div>
<p>P-verdien er 0.004755, som betyr at den er signifikant på alle nivåer (10%, 5% og 1%). Vi kan dermed si at koeffisienten er siginifikant større enn 0.</p>
<p>Oppgave 44</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>pdata <span class="ot">&lt;-</span> eu_data_nested <span class="sc">%&gt;%</span></span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(NUTS2_data) <span class="sc">%&gt;%</span></span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">diff_gdp_per_capita =</span> <span class="fu">c</span>(<span class="cn">NA</span>, <span class="fu">diff</span>(gdp_per_capita)),</span>
<span id="cb82-5"><a href="#cb82-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">diff_gini_nuts2 =</span> <span class="fu">c</span>(<span class="cn">NA</span>, <span class="fu">diff</span>(gini_nuts2))</span>
<span id="cb82-6"><a href="#cb82-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb82-7"><a href="#cb82-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(country_name, country, NUTS2, year, diff_gdp_per_capita, diff_gini_nuts2) <span class="sc">%&gt;%</span></span>
<span id="cb82-8"><a href="#cb82-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(diff_gdp_per_capita))  <span class="co"># Fjern rader med NA-verdier</span></span>
<span id="cb82-9"><a href="#cb82-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-10"><a href="#cb82-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Utfør panelregresjon</span></span>
<span id="cb82-11"><a href="#cb82-11" aria-hidden="true" tabindex="-1"></a>p_mod <span class="ot">&lt;-</span> <span class="fu">plm</span>(diff_gini_nuts2 <span class="sc">~</span> diff_gdp_per_capita, <span class="at">data =</span> pdata, <span class="at">index =</span> <span class="fu">c</span>(<span class="st">"NUTS2"</span>, <span class="st">"year"</span>), <span class="at">model =</span> <span class="st">"pooling"</span>)</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Oppgave 45</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(p_mod)</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Pooling Model

Call:
plm(formula = diff_gini_nuts2 ~ diff_gdp_per_capita, data = pdata, 
    model = "pooling", index = c("NUTS2", "year"))

Unbalanced Panel: n = 173, T = 7-21, N = 3465

Residuals:
      Min.    1st Qu.     Median    3rd Qu.       Max. 
-0.2881766 -0.0061217 -0.0012859  0.0041276  0.3106728 

Coefficients:
                       Estimate  Std. Error t-value Pr(&gt;|t|)    
(Intercept)         -4.0028e-04  3.8405e-04 -1.0422   0.2974    
diff_gdp_per_capita  3.1165e-06  1.3032e-07 23.9140   &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Total Sum of Squares:    2.0614
Residual Sum of Squares: 1.7692
R-Squared:      0.14173
Adj. R-Squared: 0.14149
F-statistic: 571.882 on 1 and 3463 DF, p-value: &lt; 2.22e-16</code></pre>
</div>
</div>
<p>Panelet over viser sammenhengen mellom endringer i BNP per innbygger endringer i Gini-koeffisienten. Resultatene viser at økonomisk vekst (diff_gdp_per_capita), har en signifikant positiv sammenheng med endringer i Gini-koeffisienten. Koeffisienten for GDPer tilnærmet lik null og p-verdien er lav, og tyder på at økt økonomisk aktivitet har en sammenheng med økninger i inntektsulikheter. Modellen forklarer 14.17% av variansen i Gini-koeffisienten.</p>
<p>Oppgave 46</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(p_mod, <span class="at">vcov =</span> <span class="cf">function</span>(x) <span class="fu">vcovHC</span>(x, <span class="at">method =</span> <span class="st">"white2"</span>))</span></code><button title="Kopier til utklipstavle" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Pooling Model

Note: Coefficient variance-covariance matrix supplied: function(x) vcovHC(x, method = "white2")

Call:
plm(formula = diff_gini_nuts2 ~ diff_gdp_per_capita, data = pdata, 
    model = "pooling", index = c("NUTS2", "year"))

Unbalanced Panel: n = 173, T = 7-21, N = 3465

Residuals:
      Min.    1st Qu.     Median    3rd Qu.       Max. 
-0.2881766 -0.0061217 -0.0012859  0.0041276  0.3106728 

Coefficients:
                       Estimate  Std. Error t-value Pr(&gt;|t|)    
(Intercept)         -4.0028e-04  3.8401e-04 -1.0424   0.2973    
diff_gdp_per_capita  3.1165e-06  1.6572e-07 18.8059   &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Total Sum of Squares:    2.0614
Residual Sum of Squares: 1.7692
R-Squared:      0.14173
Adj. R-Squared: 0.14149
F-statistic: 353.662 on 1 and 172 DF, p-value: &lt; 2.22e-16</code></pre>
</div>
</div>
<p>Når man benytter vcovHC og lignende, benytter man heteroskadisitisk robuste kovarianser for å forhindre heteroskedastisitet.</p>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Kopiert!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Kopiert!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>